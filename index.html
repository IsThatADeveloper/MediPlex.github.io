<!doctype>
<html>

<head>
	
  <title>Pharmaceutical Library Home</title>
  <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1">
  <link href="css/frame.css" media="screen" rel="stylesheet" type="text/css" />
  <link href="css/controls.css" media="screen" rel="stylesheet" type="text/css" />
  <link href="css/custom.css" media="screen" rel="stylesheet" type="text/css" />
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300,700' rel='stylesheet' type='text/css'>
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700" rel="stylesheet">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="js/menu.js"></script>
  <script src="js/drug_info.js"></script>

</head>
	
<style>

    body { 
    	background: white;
        color: Black;
        font-family: Helvetica-neue, Helvetica, Arial, sans-serif;
  	margin: 0;
  	padding: 0;
        
    }
        
    header {
	background: grey;
	color: white;
	padding: 20px 0;
	margin: 0;
    }
    
    section { 
  	background: white;
  	color: gray;
  	padding: 20px;
  	display: flex;
  	flex-direction: row;
    }
    
    footer {
  	background: white;
    	color: black;
  	padding: 10px 20px;
    }
    
    div {
    	margin: auto;
    }
   
    ul {
    	margin: 0;
        padding 0;
        list-style-type: none;
    }
    
    li {
    	display: inline-block;
        margin: 0 20px 0 0;
        padding 0;
    }
    
    .dropdown-menu {
	display: none;
	padding: 5px 0 0 10px;
	margin: 0;
	list-style: none;
	bottom: 100%;
    	border-radius: 7px;
        color: black;
  	transform: translateY(15px);
  	background-color: white;
    }
		
    .dropdown-menu li {
	padding: 10px 0px 10px 0px;
    }
		
    .dropdown-menu li:hover {
	background-color: #f5f5f5;
    	border-radius: 8px;
	padding: 10px 5px 10px 5px;
    }
		
    .show {
	display: block;
    }
	
    .custom-image-button:hover .hover-text {
        display: block;
    }

    .hover-text {
        display: none;
        position: absolute;
        padding: 5px;
        border-radius: 5px;
        color: white;
        font-size: 12px;
        background: black;
    	transform: translateX(0%);
    	transform: translateY(25px);
    }
    
    a {
      	text-decoration: none; /* Removes the underline */
      	color: inherit; /* Keeps the color of the text the same */
    }
    
    .polaroid {
      	width: 25%;
     	background-color: white;
      	box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
      	margin-bottom: 25px;
    	border-radius: 8px;
    }

    .container {
      	text-align: center;
      	padding: 10px 20px;
    }
    
    .polaroid:hover {
      	color: black;
        background-color: lightgrey;
    	border-radius: 12px;
    }

</style>
	 
<body>

     <!---------------------------------Nav Bar--------------------------------->

     <header>
        <nav>
          <ul style="height: 25px;">
            <li class="dropdown" style="position: relative; width: 200px; height: 50px;">
              <a href="#" class="dropdown-toggle">
                <img src="img/menu.png" onclick="toggleDropdown(event)" width="25" height="25">
              </a>
              <ul class="dropdown-menu" id="dropdown-menu">
                <li style="display: block;"><a href="medical.html" class="menu-medical">Medical Index</a></li>
                <li style="display: block;"><a href="how_do_drugs_work.html" class="menu-how_do_drugs_work">Information On Drugs</a></li>
                <li style="display: block;"><a href="recentnews.html" class="menu-recentnews">Recent News</a></li>
              </ul>
            </li>
            <li style="position: absolute; left: 82px; top: 1.3%; transform: translateY(-3%);"><h3><a href="index.html">Pharmacy Index</a></h3></li>
            <li style="position: absolute; right: 30px; top: 3%; transform: translateY(-3%);">
              <div style="display: inline-block; margin-left: 10px;">
                <a href="https://www.linkedin.com/" target="_blank" class="custom-image-button">
                  <img src="img/linkedin.png" width="40px" style="border-radius: 5px;">
                  <span class="hover-text">Visit LinkedIn</span>
                </a>
              </div>
              <div style="display: inline-block; margin-left: 10px;">
                <a href="https://www.instagram.com/" target="_blank" class="custom-image-button">
                  <img src="img/instagram.png" width="40px" style="border-radius: 5px;">
                  <span class="hover-text">Visit Instagram</span>
                </a>
              </div>
            </li>
          </ul>
        </nav>
     </header>
    
     <!---------------------------------Nav Bar End--------------------------------->
	  
     <!---------------------------------Banner--------------------------------->
    
    <section class="bannerImage" style="background: url('img/pillindex_banner.jpg') no-repeat center; background-size: cover; height: 300px;"></section>
	  
    <!---------------------------------Banner End---------------------------------> 
	 
    <!---------------------------------Input Bar--------------------------------->

    <section>
      <div class="bannerImage banner-table" style="text-align:center; background-size: cover; height: 50px; padding: 40px 0px 50px 6%;">
        <form onsubmit="openDrugs(); return false;">
          <label for="search-input" class="search-label"></label>
          <div class="search-container">
            <input type="text" placeholder="Drug name, Medical condition, etc..." value="" id="search-input" name="search-input" autocomplete="on" class="search-input">
            <button type="submit" id="search-btn" class="search-button">Search</button>
          </div>
        </form>

        <div id="drug-dropdown" class="drug-dropdown"> <!add formatting>
          <ul id="drug-list" class="drug-list"></ul>
        </div>

        <div id="output" class="output"></div>
      </div>
    </section>
    	    
    <!---------------------------------Input Bar End--------------------------------->
    
    <!---------------------------------News--------------------------------->
    
    <footer>
	  <hr style="border: none; height: 1px; background-color: grey;"></hr>
      
      <h3 style="padding: 5px; text-align: center; color: grey;"><u>Latest News</u></h3>
      
      <section style="padding: 50px 0 50px 0;">
          <div class="polaroid">
          <a href="http://www.example.com"><img src="NewsArticleTest.jpg" style="width:100%"></a>
            <div class="container">
            <p>News Article 1</p>
            </div>
          </div>
          
          <div class="polaroid">
          <a href="http://www.example.com"><img src="NewsArticleTest.jpg" style="width:100%;"></a>
            <div class="container">
            <p>News Article 2</p>
            </div>
          </div>
          
          <div class="polaroid">
          <a href="http://www.example.com"><img src="NewsArticleTest.jpg" style="width:100%"></a>
            <div class="container">
            <p>News Article 3</p>
            </div>
          </div>
      </section>
    </footer>
    
    <!---------------------------------News End--------------------------------->
	 
    <!---------------------------------Socials--------------------------------->
		
    <footer>
		<hr style="border: none; height: 1px; background-color: grey;"></hr>
			
		<section style="color: black; padding: 100px 0 100px 0;">
			<div>a</div>
    		<div>b</div>
		</section>
    </footer>
	   
	   
    <!---------------------------------Socials End--------------------------------->
	    
</body>
    
<script>
    
  function toggleDropdown(event) {
  	event.preventDefault();
  	var dropdown = document.getElementById("dropdown-menu");
  	dropdown.classList.toggle("show");
  }

  const drugList = document.getElementById("drug-list");
  const drugDropdown = document.getElementById("drug-dropdown");
  const drugSearchInput = document.getElementById("search-input");
  const searchButton = document.getElementById("search-btn");
  const outputDiv = document.getElementById('output');

  function showDrugList() {
    drugList.innerHTML = "";

    const searchTerm = drugSearchInput.value.trim().toLowerCase();
    drugs.forEach(drug => {
      if (drug.name.toLowerCase().includes(searchTerm)) {
        const listItem = document.createElement("li");
        const link = document.createElement("a");
        link.textContent = drug.name;
        listItem.appendChild(link);
        drugList.appendChild(listItem);
      }
    });

    drugDropdown.style.display = "block";
  }

  function hideDrugList() {
    drugDropdown.style.display = "none";
  }

  function searchDrugs(searchText) {
    const filteredDrugs = drugs.filter(drug => drug.name.toLowerCase().includes(searchText.toLowerCase()));
    const limitedResults = filteredDrugs.slice(0, 20);

    if (limitedResults.length === 0) {
      outputDiv.textContent = "No results found.";
    } else if (filteredDrugs.length > 20) {
      outputDiv.textContent = "More than 20 results found.\nShowing the first 20 results:\n";
      let resultsString = "";
      limitedResults.forEach(drug => {
        resultsString += drug.name + ", ";
      });
      resultsString = resultsString.slice(0, -2); // Remove the final comma and space
      outputDiv.textContent += resultsString;
    } else {
      let resultsString = "";
      limitedResults.forEach(drug => {
        resultsString += drug.name + ", ";
      });
      resultsString = resultsString.slice(0, -2); // Remove the final comma and space
      if (limitedResults.length === 1) {
        outputDiv.innerHTML = "1 result found: <span style='color: red'>" + resultsString + "</span>";
      } else {
        outputDiv.textContent = limitedResults.length + " results found: " + resultsString;
      }
    }
  }

  drugSearchInput.addEventListener("input", event => {
    const searchTerm = event.target.value.trim().toLowerCase();

    if (searchTerm.length === 0) {
      hideDrugList();
    } else {
      showDrugList();
    }

    searchDrugs(searchTerm);
  });

  drugList.addEventListener("click", event => {
    drugSearchInput.value = event.target.textContent;
    hideDrugList();
  });
	   
  searchButton.addEventListener("click", () => {
    const selectedDrug = drugSearchInput.value.trim().toLowerCase();
    const foundDrug = drugs.find(drug => drug.name.toLowerCase() === selectedDrug);

    if (foundDrug) {
      const outputDiv = document.getElementById('output');

      // Store the selected drug and its info in local storage
      localStorage.setItem('selected-drug', selectedDrug);
      localStorage.setItem('found-drug', JSON.stringify(foundDrug));
      localStorage.setItem('output-value', outputDiv.innerHTML);

      // Open drugs.html
      openDrugs();
    }

    // Hide the drug list
    hideDrugList();
  });

  function openDrugs() {
    const searchTerm = drugSearchInput.value.trim().toLowerCase();
    const foundDrug = drugs.find(drug => drug.name.toLowerCase() === searchTerm.toLowerCase());
    if (foundDrug) {
      window.location.href = "drugs.html";
    } else {
      alert("Drug not found: " + searchTerm + " please try again.");
    }
    return false;
}

</script>

</html>
